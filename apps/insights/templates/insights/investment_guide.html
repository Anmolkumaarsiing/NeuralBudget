{% extends 'core/base.html' %}
{% load static %}
{% block title %}SAVI's Investment Guide{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'insights/css/investment_guide.css' %}">
{% endblock %}

{% block content %}
<div class="investment-guide-page">
    <div class="page-header">
        <h1>SAVI's Investment Guide ðŸš€</h1>
        <p>Get personalized investment tips based on your savings and location.</p>
    </div>

    <div id="setup-container" class="setup-container card-style" {% if current_salary %}style="display:none;"{% endif %}>
        <h3>First, let's get your details</h3>
        <p>We need your location and monthly salary to generate personalized tips. This is a one-time setup.</p>
        <form id="details-form">
            <div class="form-group">
                <label for="monthly-salary">Your Monthly Salary (â‚¹)</label>
                <input type="number" id="monthly-salary" placeholder="e.g., 50000" required>
            </div>
            <button id="get-location-btn" type="button" class="btn-secondary">
                <i class="fas fa-map-marker-alt"></i> Get My Location
            </button>
            <button id="generate-tips-btn" type="submit" class="btn-primary" disabled>
                Generate My Guide
            </button>
        </form>
    </div>

    <div id="results-container" {% if not current_salary %}style="display:none;"{% endif %}>
        <div class="edit-salary-section">
            <p>Your current monthly salary is set to <strong>â‚¹<span id="salary-display">{{ current_salary|default_if_none:0|floatformat:2 }}</span></strong>.</p>
            <button id="edit-salary-btn" class="btn-edit">Edit Salary</button>
        </div>
        <div id="tips-grid" class="tips-grid">
            </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    <script type="module" src="{% static 'insights/js/investment_guide.js' %}"></script>
{% endblock %}