{% extends 'core/base.html' %}
{% load static %}

{% block title %}Smart Saver - Neural Budget AI{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'budgets/css/smart_saver.css' %}">
{% endblock %}

{% block extra_js %}
    <script type="module" src="{% static 'budgets/js/smart_saver.js' %}"></script>
{% endblock %}

{% block content %}
<section class="smart-saver-page">
    <div class="smart-saver-form-container">
        <div class="form-header">
            <h2>Create Your Smart Saver Plan</h2>
            <p>Tell us about your goal, and our AI will create a personalized plan for you.</p>
        </div>
        <form id="smart-saver-form">
            {% csrf_token %}
            <div class="form-grid">
                <div class="form-group">
                    <label for="goal-name"><i class="fas fa-bullseye"></i> What are you saving for?</label>
                    <input type="text" id="goal-name" name="goal_name" placeholder="e.g., A New Phone" required>
                </div>
                <div class="form-group">
                    <label for="goal-amount"><i class="fas fa-rupee-sign"></i> What is the target amount?</label>
                    <input type="number" id="goal-amount" name="goal_amount" placeholder="e.g., 80000" required>
                </div>
                <div class="form-group">
                    <label for="income"><i class="fas fa-wallet"></i> Your Monthly Income</label>
                    <input type="number" id="income" name="income" placeholder="e.g., 50000" required>
                </div>
                <div class="form-group">
                    <label for="expenses"><i class="fas fa-receipt"></i> Your Monthly Expenses</label>
                    <input type="number" id="expenses" name="expenses" placeholder="e.g., 35000" required>
                </div>
                <div class="form-group">
                    <label for="timeframe"><i class="fas fa-calendar-alt"></i> How many months to save?</label>
                    <input type="number" id="timeframe" name="timeframe" placeholder="e.g., 12" required>
                </div>
                <div class="form-group">
                    <label for="risk"><i class="fas fa-sliders-h"></i> Your Saving Style</label>
                    <select id="risk" name="risk">
                        <option value="Steady">Steady & Consistent</option>
                        <option value="Balanced">Balanced Approach</option>
                        <option value="Aggressive">Aggressive & Fast</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="generate-btn">
                <i class="fas fa-magic"></i> Generate My Plan
            </button>
        </form>
    </div>

    <div id="plan-display" class="plan-display-container" style="display: none;">
        <h2 id="plan-title"></h2>
        <p id="plan-summary"></p>
        <div class="plan-timeline" id="plan-steps"></div>
        <div class="chart-container">
            <h3>Your Savings Journey</h3>
            <canvas id="savings-chart"></canvas>
        </div>
    </div>

    <div id="loading-spinner" class="spinner-container" style="display: none;">
        <div class="spinner"></div>
        <p>SAVI is crafting your personal plan...</p>
    </div>
</section>
{% endblock %}
